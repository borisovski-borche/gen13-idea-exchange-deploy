<div class="post">
  <div class="post-heading">
    <h3 [routerLink]="'/posts/' + post()._id">{{ post().title }}</h3>
    <span
      class="likes-display"
      [ngClass]="{ 'disabled-likes-display': canEdit() || !canLikeDislike() }"
    >
      <span
        (click)="onLikeDislikeClick('like')"
        [ngClass]="{ 'post-liked-dislked': postLikeStatus().liked }"
      >
        <i class="fa-solid fa-thumbs-up"></i>
        {{ post().likes.length }}
      </span>
      <span
        (click)="onLikeDislikeClick('dislike')"
        [ngClass]="{ 'post-liked-dislked': postLikeStatus().disliked }"
      >
        <i class="fa-solid fa-thumbs-down"></i>
        {{ post().dislikes.length }}
      </span>
    </span>
  </div>
  <div class="post-body">
    {{ post().body }}
  </div>
  <div class="post-footer">
    <span>
      @if (!canEdit()) {
        <span> <i class="fa fa-user-circle"></i> {{ post().author.username }} on </span>
      }
      <span>{{ post().createdAt | date }}</span>
    </span>
    <div class="comments">
      @if (canEdit()) {
        <span class="edit-link" (click)="onPostActionClick('edit')"
          >Edit <i class="fa-solid fa-pen-to-square"></i
        ></span>
        <span class="delete-link" (click)="onPostActionClick('delete')"
          >Delete <i class="fa-solid fa-trash-can"></i
        ></span>
      }
      <span>Comments: {{ post().comments.length }}</span>
    </div>
  </div>
</div>
